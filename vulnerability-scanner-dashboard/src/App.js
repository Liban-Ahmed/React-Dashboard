import React, { useState } from "react";
import {
  createTheme,
  ThemeProvider,
  CssBaseline,
  Switch,
  Box,
} from "@mui/material";
import ScannerForm from "./components/ScannerForm";
import ResultsAccordion from "./components/ResultsAccordion";

function App() {
  const [darkMode, setDarkMode] = useState(false);
  const [results, setResults] = useState({});
  const [progress, setProgress] = useState(0);

  const theme = createTheme({
    palette: {
      mode: darkMode ? "dark" : "light",
    },
  });

  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <Box sx={{ p: 4 }}>
        <Switch
          checked={darkMode}
          onChange={() => setDarkMode(!darkMode)}
          color="default"
        />
        <ScannerForm setResults={setResults} setProgress={setProgress} />
        <ResultsAccordion results={results} />
      </Box>
    </ThemeProvider>
  );
}

export default App;
